"use strict";angular.module("ohgohereApp",["ngCookies","ngResource","ngSanitize","ngRoute","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/inspire",{templateUrl:"views/inspire.html",controller:"InspireCtrl"}).when("/search/:searchTerm",{templateUrl:"views/search.html",controller:"SearchCtrl"}).when("/itin/:itinID",{templateUrl:"views/single-itin.html",controller:"SingleItinCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("ohgohereApp").controller("MainCtrl",["$scope","ItineraryService",function(a,b){a.itineraries=b,console.log("scope itineraries",a.itineraries)}]),angular.module("ohgohereApp").controller("InspireCtrl",["$scope","ItineraryService","$location",function(a,b,c){a.itineraries=b,a.postItin=function(){console.log(a.itin.location),a.itin.place2=a.itin.place2||{},a.itin.place3=a.itin.place3||{},a.itineraries.$add({location:a.itin.location,when:a.itin.when,who:a.itin.who,places:[{name:a.itin.place1.name,why:a.itin.place1.why},{name:a.itin.place2.name,why:a.itin.place2.why},{name:a.itin.place3.name,why:a.itin.place3.why}]}),c.path("/")}}]),angular.module("ohgohereApp").controller("SingleItinCtrl",["$scope","ItineraryService","$routeParams",function(a,b,c){a.itinID=c.itinID,a.itineraries=b,console.log("itineraries",a.itineraries)}]),angular.module("ohgohereApp").controller("SearchCtrl",["$scope","$location","ItineraryService","$routeParams",function(a,b,c,d){a.itineraries=c,a.searchTerm=d.searchTerm,a.doSearch=function(){b.path("/search/"+a.search)}}]),angular.module("ohgohereApp").factory("ItineraryService",["$firebase",function(a){var b=new Firebase("https://ohgohere.firebaseio.com/itinerary");return a(b)}]),angular.module("ohgohereApp").filter("singleItin",function(){return function(a,b){var c=_.filter(a,{$id:b});return c}}),angular.module("ohgohereApp").filter("searchItin",function(){return function(a,b){return b=b.toLowerCase(),_.filter(a,function(a){var c=!1,d=b.split(" "),e=a.location.toLowerCase(),f=a.who.toLowerCase(),g=a.when.toLowerCase();return _.forEach(d,function(b){if(_.contains(e,b)||_.contains(b,e)||_.contains(f,b)||_.contains(b,f)||_.contains(g,b)||_.contains(b,g))return c=!0,!1;var d=_.flatten(a.places,"name");_.forEach(d,function(a){return _.contains(a,b)||_.contains(b,a)?(c=!0,!1):void 0});var h=_.flatten(a.places,"why");_.forEach(h,function(a){return _.contains(a,b)||_.contains(b,a)?(c=!0,!1):void 0})}),c})}}),angular.module("ohgohereApp").directive("navHeaderAwesome",function(){return{restrict:"E",templateUrl:"views/nav-header.html",link:function(a,b,c){a.activeTab=c.activeTab}}}),angular.module("dontincludeme").directive("itin",function(){return{templateUrl:"views/itin.html",scope:{itinerary:"="}}}),angular.module("ohgohereApp").directive("itin",function(){return{restrict:"E",templateUrl:"views/itin.html",scope:{itinerary:"="}}});
